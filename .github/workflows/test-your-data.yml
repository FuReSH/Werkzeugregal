# This is a basic validation workflow for TESTING yaml data for tools and blackboxes

name: Last check of YAML test data

on:
  push:
    branches: [ "main" ]
    paths:
     - 'test/**/*.yml'

jobs:
  clean-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Clean test folder from old data
        id: clean
        run: |
          rm -rf test/tools/*
          rm -rf test/blackboxes/*
          echo "::set-output name=tyml::$(find test/tools -name '*.yml')"
          echo "::set-output name=byml::$(find test/blackboxes -name '*.yml')"
      - name: echo output
        run: |
          echo ${{ steps.clean.outputs.tyml }}
          echo ${{ steps.clean.outputs.byml }}
